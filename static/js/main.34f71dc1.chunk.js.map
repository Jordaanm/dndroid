{"version":3,"sources":["components/header-clock.jsx","apps/apps.js","data/hero-presets/heroes.js","utils/promises.js","utils/voice.js","data/definitions/character-sheet.js","data/spells.js","utils/char-utils.js","stores/os-store.js","utils/contexts.js","apps/home.jsx","apps/char-sheet.jsx","apps/lock-screen.jsx","apps/dungeon-master.jsx","googax/index.js","googax/monster.js","apps/googax.jsx","apps/combat.jsx","components/os-nav-bar.jsx","components/os-notification-bar.jsx","components/app-list.jsx","apps/os.jsx","App.js","serviceWorker.js","index.js"],"names":["moment","require","getTimeString","format","Clock","props","useState","now","setNow","useEffect","timer","setInterval","clearInterval","className","appMasterList","id","name","icon","UsageTypes","PrimaryResources","allHeroes","password","classes","ac","maxHP","maxResource","primaryResource","attributes","str","dex","con","int","wis","cha","skillProfs","features","description","spells","attacks","damage","range","usageType","uses","skillExpertise","join","delay","wait","Promise","res","setTimeout","SS","window","speechSynthesis","Voice","chosenVoice","defaultVoiceName","defaultWinVoiceName","this","getVoices","find","x","msg","findVoice","utt","SpeechSynthesisUtterance","voice","speak","character","label","skills","basis","cost","castTime","duration","attrBonus","score","Math","floor","DEFAULT_APPS","OSStore","appHistory","showAppList","isLocked","isDM","hero","user","socket","apps","searchTerm","dmScreen","players","dmMode","push","save","console","log","appName","includes","length","splice","val","connectSocket","load","openSocket","on","unlockApp","p","close","chosenHero","toLowerCase","data","currentHP","currentResource","map","attr","bonus","skill","isProficient","isExpert","baseBonus","characterSpells","sp","populateSheet","then","enableDefaultApps","emit","resolve","reject","unlockedApps","localStorage","setItem","JSON","stringify","dataString","getItem","parse","filter","index","self","indexOf","reverse","Boolean","decorate","currentApp","computed","appList","observable","tryUnlock","action","storesContext","React","createContext","os","useStores","useContext","Home","observer","term","setTerm","dateString","openApp","app","launchApp","onSubmit","e","preventDefault","placeholder","value","onChange","target","type","key","onClick","CharSheet","skillSort","setSkillSort","onlyProf","setOnlyProf","sortedSkills","sort","a","b","sortSkills","filteredSkills","f","feature","CharSheetAttribute","bonusStr","toString","CharSheetSkill","profClass","scoreStr","Feature","source","LockScreen","initialUsername","location","hash","substr","setPass","setUser","message","setMessage","isError","setIsError","catch","DM","selectedHero","setSelectedHero","selectedApp","setSelectedApp","quote","setQuote","cols","rows","Object","values","googaxData","title","category","tags","content","blurb","Googax","article","setArticle","isLoading","setIsLoading","results","lTerm","some","tag","searchFor","updateResults","closeArticle","Article","Results","result","Combat","castSpellCB","spell","attack","availMana","Spell","canAfford","disabled","Attack","damageString","buildDamageString","replace","OSNavBar","goBack","toggleAppList","OSNotificationBar","OSAppList","launch","AppListItem","OS","getApp","heroName","App","initialise","href","rel","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.34f71dc1.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nconst moment = require('moment');\r\n\r\nconst getTimeString = () => {\r\n    return moment().format('h:mmA');\r\n}\r\n\r\nexport const Clock = props => {\r\n    const [now, setNow] = useState(getTimeString());\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            setNow(getTimeString());\r\n        }, 10000);\r\n        return () => clearInterval(timer);\r\n    });\r\n\r\n    return (\r\n        <span className=\"time\">{now}</span>\r\n    );\r\n\r\n};","export const appMasterList = {\r\n  'sheet': {\r\n    id: 'sheet',\r\n    name: 'Character Sheet',\r\n    icon: 'stats',\r\n  },\r\n  'combat': {\r\n    id: 'combat',\r\n    name: 'Combat',\r\n    icon: 'combat'\r\n  },\r\n  'googax': {\r\n    id: 'googax',\r\n    name: 'Googax',\r\n    icon: 'google',\r\n  },\r\n  'dm': {\r\n    id: 'DM',\r\n    name: 'Dungeon Master',\r\n    icon: 'd20',\r\n  }\r\n};\r\n","export const UsageTypes = {\r\n    SR: 'Short Rest',\r\n    LR: 'Long Rest',\r\n    EN: 'Encounter'\r\n}\r\n\r\nexport const PrimaryResources = {\r\n    MANA: 'Mana',\r\n    KI: 'Ki'\r\n}\r\n\r\nexport const fighter = {\r\n    name: 'Fighter',\r\n    password: 'champion',\r\n    classes: ['Fighter'],\r\n    ac: 15,\r\n    maxHP: 54,\r\n    maxResource: 0,\r\n    primaryResource: null,\r\n    attributes: {\r\n        str: 18,\r\n        dex: 14,\r\n        con: 15,\r\n        int: 11,\r\n        wis: 13,\r\n        cha: 9\r\n    },\r\n    skillProfs: ['athletics', 'intimidation', 'acrobatics'],\r\n    features: [\r\n        {\r\n            name: 'Improved Critical',\r\n            description: 'Your weapon attacks score a critical hit on an attack roll of 19 or 20'\r\n        },\r\n        {\r\n            name: 'Second Wind',\r\n            description: 'On your turn, you can use a minor action to regain hit points equal to 1d10 + 4',\r\n            usageType: UsageTypes.SR,\r\n            uses: 1\r\n        },\r\n        {\r\n            name: 'Action Surge',\r\n            description: 'While in combat, you may perform an extra action on your turn',\r\n            usageType: UsageTypes.SR,\r\n            uses: 1\r\n        },\r\n        {\r\n            name: 'Fighting Style - Dual Wielding',\r\n            description: 'You may attack with your secondary hand as a minor action'\r\n        },\r\n        {\r\n            name: 'Extra Attack',\r\n            description: 'You can attack twice, instead of once, whenever you take the Attack action on your turn'\r\n        }\r\n    ], \r\n    attacks: [{\r\n        name: 'Longsword',\r\n        damage: '1d8+{STR}',\r\n        range: ''\r\n    }, {\r\n        name: 'Javelin',\r\n        damage: '1d6+{STR}',\r\n        range: '30ft/120ft'\r\n    }]\r\n};\r\n\r\nexport const paladin = {\r\n    name: 'Paladin',\r\n    password: 'believe',\r\n    classes: ['Paladin'],\r\n    ac: 18,\r\n    maxHP: 48,\r\n    maxResource: 14,\r\n    primaryResource: PrimaryResources.MANA,\r\n    attributes: {\r\n        str: 14,\r\n        dex: 9,\r\n        con: 16,\r\n        int: 10,\r\n        wis: 12,\r\n        cha: 18\r\n    },\r\n    skillProfs: ['religion', 'persuasion', 'medicine'],\r\n    features: [\r\n        {\r\n            name: \"Divine Sense\",\r\n            description: \"You can open your awareness to sense Holy and Unholy entities. Until the end of your next turn, you know the location of any Celestial, Fiendish or Undead creature within 100 ft of you\",\r\n            usageType: UsageTypes.LR,\r\n            uses: 4\r\n        },\r\n        {\r\n            name: \"Lay on Hands\",\r\n            description: \"Your blessed touch can heal wounds. You have a pool of healing power. With that pool, you can restore a total of 30 points of damage\",\r\n            usageType: UsageTypes.LR,\r\n            uses: 30\r\n        },\r\n        {\r\n            name: \"Spellcasting\",\r\n            description: \"You can draw on divine magic through meditation to cast spells\"\r\n        },\r\n        {\r\n            name: \"Divine Smite\",\r\n            description: `When you hit a creature with a melee weapon attack, you can spend mana to deal additional radiant damage on the attack. The bonus is based on mana spent:\\n`+\r\n            `* 2d8 for 2 mana`+\r\n            `* 3d8 for 3 mana`+\r\n            `* 4d8 for 5 mana`+\r\n            `If the target is a fiend or undead, deal a further bonus of 1d8 damage`\r\n        },\r\n        {\r\n            name: \"Divine Health\",\r\n            description: \"You are immune to disease and illness\"\r\n        },\r\n        {\r\n            name: 'Extra Attack',\r\n            description: 'You can attack twice, instead of once, whenever you take the Attack action on your turn'\r\n        },\r\n        {\r\n            name: 'Sacred Weapon',\r\n            description: 'As an action, you can imbue one weapon that you are holding with positive energy. For one minute, you add +3 to attack rolls made with that weapon. The weapon also emits bright light in a 20ft radius',\r\n            usageType: UsageTypes.LR,\r\n            uses: 5\r\n        }\r\n    ],\r\n    spells: [\r\n        'protection from evil and good',\r\n        'sanctuary',\r\n        'lesser restoration',\r\n        'zone of truth'\r\n    ], \r\n    attacks: [{\r\n        name: 'Warhammer',\r\n        damage: '1d10+{STR}',\r\n        range: ''\r\n    }, {\r\n        name: 'Throwing Hammer',\r\n        damage: '1d4+{STR}',\r\n        range: '20ft/60ft'\r\n    }]\r\n};\r\n\r\nexport const ranger = {\r\n    name: 'Ranger',\r\n    password: 'focus',\r\n    classes: ['Ranger'],\r\n    ac: 14,\r\n    maxHP: 54,\r\n    maxResource: 14,\r\n    primaryResource: PrimaryResources.MANA,\r\n    attributes: {\r\n        str: 12,\r\n        dex: 18,\r\n        con: 14,\r\n        int: 10,\r\n        wis: 16,\r\n        cha: 9\r\n    },\r\n    skillProfs: ['nature', 'animal_handling', 'survival'],\r\n    features: [{\r\n        name: 'Favored Enemy - Beasts',\r\n        description: `You have experience studying and hunting beasts.\\n`+\r\n        `* You have advantage on checks to track, investigate or recall information about any beastial creature.\\n`+\r\n        `* You deal +2 bonus damage to attacks made against beastial creatures`\r\n    }, {\r\n        name: 'Natural Explorer',\r\n        description: `You are a master of navigating the natural world.\\n`+\r\n        `* Difficult terrain doesn't affect your movement.\\n`+\r\n        `* You have advantage on all initiative rolls\\n`+\r\n        `* On your first turn in combat, you have advantage on attack rolls against creatures than have not yet acted in combat.\\n`+\r\n        `* Your group cannot become lost except by magical means\\n`+\r\n        `* You have advantage when trying to forage for food or find shelter in natural terrain.\\n`+\r\n        `* When tracking creatures, you can learn their exact number, size and how long ago they passed through an area`\r\n    }, {\r\n        name: 'Fighting Style - Archery',\r\n        description: `You are a skilled archer. You gain bonuses to attack and damage rolls made with a bow.`\r\n    }, {\r\n        name: 'Spellcasting',\r\n        description: 'You have learned to use the magical essence of nature'\r\n    }, {\r\n        name: 'Primeval Awareness',\r\n        description: `Your mastery of natural lore allows you to establish and powerful link to beasts and the land around you.\\n`+\r\n        `* As an action, you can communicate simple ideas to beasts through sound and gesture, and read their basic mood and intent.\\n`+\r\n        `* Additionally, you can spend a minute attuning your sense to determine if hostile beasts are lurking within 5 miles of you.`\r\n    }, {\r\n        name: 'Colossus Slayer',\r\n        description: 'When dealing damage to a creature, if it is below its maximum hit points, you deal an extra 5 damage. This effect can occur once per turn'\r\n    }, {\r\n        name: 'Extra Attack',\r\n        description: 'You can attack twice, instead of once, whenever you take the Attack action on your turn'\r\n    }],\r\n    spells: ['hunters mark'],\r\n    attacks: [{\r\n        name: 'Longbow',\r\n        damage: '1d8+{DEX}+2',\r\n        range: '150ft/600ft'\r\n    }, {\r\n        name: 'Dagger',\r\n        damage: '1d4+{DEX}',\r\n        range: '20ft/60ft'\r\n    }]\r\n};\r\n\r\nexport const monk = {\r\n    name: 'Monk',\r\n    password: 'balance',\r\n    classes: ['Monk'],\r\n    ac: 15,\r\n    maxHP: 46,\r\n    primaryResource: PrimaryResources.KI,\r\n    maxResource: 5,\r\n    attributes: {\r\n        str: 10,\r\n        dex: 18,\r\n        con: 14,\r\n        int: 9,\r\n        wis: 16,\r\n        cha: 12\r\n    },\r\n    skillProfs: ['acrobatics', 'history', 'stealth'],\r\n    features: [\r\n        {\r\n            name: 'Martial Arts',\r\n            description: 'You are skilled with unarmed attacks. When taking the attack action, you may make an additional unarmed attack as a minor action'\r\n        },\r\n        {\r\n            name: 'Ki',\r\n            description: 'You can harness the mystic energy of Ki to perform special attacks (see below)'\r\n        },\r\n        {\r\n            name: 'Enhanced Movement',\r\n            description: 'Your movement speed is increased. You gain advantage when attempting to scale vertical surfaces, leap across openings, etc'\r\n        },\r\n        {\r\n            name: 'Slow Fall',\r\n            description: 'You can use your reaction to reduce falling damage you take by up to 25'\r\n        },\r\n        {\r\n            name: 'Extra Attack',\r\n            description: 'You can attack twice, instead of once, whenever you take the Attack action on your turn'\r\n        },\r\n        {\r\n            name: 'Deflect Missile',\r\n            description: `You can use your reaction to deflect or catch the projectile when hit by a ranged attack. When you do so, the damage you take is reduced by 1d10+8.\\n\\n`+\r\n            `If you reduce the damage to 0, you catch the projectile, and can spend **1 Ki** point to redirect the projectile at another target. You make this attack with proficiency`\r\n        },\r\n        {\r\n            name: 'Stunning Strike',\r\n            description: `When you hit another creature with a melee attack, you may spend **1 Ki** point to attempt a Stunning Strike\\n`+\r\n            `The target must success on a Constitution saving throw (**DC 13**) or be stunned until the end of your next turn`\r\n        },\r\n        {\r\n            name: 'Flurry of Blows',\r\n            description: `After taking the attack action on your turn, you may spend **1 Ki** point to make **2 Unarmed Attacks** as a **minor action**\\n`+\r\n            `If a Flurry of Blows attack hits, you may impose one of the following effects on the target: \\n`+\r\n            `* It must succeed a Dexterity saving throw (**DC 13**) or be knocked prone\\n`+\r\n            `* It must success a Strength saving throw (**DC 13**) or be pushed backwards up to 15ft\\n`+\r\n            `* It cannot take ractions until the end of your next turn\\n`\r\n        },\r\n        {\r\n            name: 'Patient Defense',\r\n            description: 'You can spend **1 Ki point** to Dodge as a minor action on your turn, giving attacks against you **Disadvantage** until your next turn'\r\n        }\r\n    ],\r\n    spells: [], \r\n    attacks: [{\r\n        name: 'Unarmed Strike',\r\n        damage: '1d6+{DEX}',\r\n        range: ''\r\n    }, {\r\n        name: 'Shuriken',\r\n        damage: '1d4+{DEX}',\r\n        range: '30ft/120ft'\r\n    }]\r\n};\r\n\r\nexport const bard = {\r\n    name: 'Bard',\r\n    password: 'inspire',\r\n    classes: ['Bard'],\r\n    ac: 13,\r\n    maxHP: 40,\r\n    maxResource: 27,\r\n    primaryResource: PrimaryResources.MANA,\r\n    attributes: {\r\n        str: 12,\r\n        dex: 16,\r\n        con: 9,\r\n        int: 14,\r\n        wis: 10,\r\n        cha: 18\r\n    },\r\n    skillProfs: ['persuasion', 'deception', 'performance'],\r\n    skillExpertise: ['persuasion', 'deception'],\r\n    features: [{\r\n        name: 'Spellcasting',\r\n        description: 'You have learned to untangle and reshape the fabric of reality in harmony with your wishes and music'\r\n    }, {\r\n        name: 'Bardic Inspiration',\r\n        description: [\r\n            'You can inspire others through stirring words, dance or music.',\r\n            'To do so, you use a minor action to choose 1 creature within 60ft who can see or hear you.',\r\n            'That creature gains an Inspiration die (1d8). Within the next 10minutes, they can roll that die and add the value as a bonus to any one ability check, saving throw or attack roll'\r\n        ].join('\\n'),\r\n        usageType: UsageTypes.SR,\r\n        uses: 3\r\n    }, {\r\n        name: 'Jack of all Trades',\r\n        description: 'Add +2 to any ability check for which you are not already proficient'\r\n    }, {\r\n        name: 'Song of Rest',\r\n        description: [\r\n            'While taking a short rest, you can use soothing music or oration to help revitalise your allies',\r\n            'Any friendly creatures who can hear your performance regain 5 hit points'\r\n        ].join('\\n')\r\n    }, {\r\n        name: 'Expertise - Persuasion and Deception',\r\n        description: 'You are an expert at Persausion and Intimidation, and gain bonuses to all related skill checks'\r\n    }, {\r\n        name: 'Combat Inspiration',\r\n        description: [\r\n            'A creature that has a Bardic Inspiration die from you can roll that die and add the number rolled to a weapon damage roll it has just made',\r\n            'Alternatively, when that creature is being attacked, it can roll that die to reduce the opponent\\'s attack roll by that amount'\r\n        ].join('\\n')\r\n    }],\r\n    spells: [\r\n\r\n    ], \r\n    attacks: [{\r\n        name: 'Rapier',\r\n        damage: '1d8+{DEX}',\r\n        range: ''\r\n    }, {\r\n        name: 'Whip',\r\n        damage: '1d+{DEX}',\r\n        range: '15ft'\r\n    }]\r\n};\r\n\r\nexport const sorcerer = {\r\n    name: 'Sorcerer',\r\n    password: 'chaos',\r\n    classes: ['Sorcerer'],\r\n    ac: 11,\r\n    maxHP: 38,\r\n    maxResource: 27,\r\n    primaryResource: PrimaryResources.MANA,\r\n    attributes: {\r\n        str: 9,\r\n        dex: 12,\r\n        con: 16,\r\n        int: 18,\r\n        wis: 10,\r\n        cha: 14\r\n    },\r\n    skillProfs: ['arcana', 'history', 'investigation'],\r\n    features: [{\r\n        name: 'Spellcasting',\r\n        description: 'You are innately infused with arcane magic, and understand some aspect of the nature of magic at an instinctive level'\r\n    }, {\r\n        name: 'Font of Magic',\r\n        description: [\r\n            'You can tap into a deep wellspring of magic within yourself, represented by sorcery points, which allow you to create metamagic effects.',\r\n            'You have 5 sorcery points, and you regain these points upon completing a long rest.'\r\n        ].join('\\n')\r\n    }, {\r\n        name: 'Metamagic - Distant Spell',\r\n        description: 'You can spend *1 Sorcery Point* to double the range of a spell as you cast it. If cast on a spell with touch range, the range becomes 30 ft'\r\n    }, {\r\n        name: 'Metamagic - Subtle Spell',\r\n        description: 'You can spend *1 Sorcery Point* to cast a spell without any movement or sound'\r\n    }, {\r\n        name: 'Metamagic - Twinned Spell',\r\n        description: 'When casting a single-target spell, you can spend a number of **SorceryPpoints equal to half the mana cost of the spell** to also target 2 second creature'\r\n    }, {\r\n        name: 'Wild Magic Surge',\r\n        description: [\r\n            'Your spellcasting can unleash surges of untamed magic.',\r\n            'Each time you cast a spell, there is a 5% chance a random side effect will occur',\r\n        ].join('\\n')\r\n    }, {\r\n        name: 'Tides of Chaos',\r\n        description: [\r\n            'Once per day, you can manipulate the forces of choas to gain advantage on any attack roll, ability check or skill check.',\r\n            'Whenver the Wild Magic Surge occurs, you regain use of this feature'\r\n        ].join('\\n')\r\n    }],\r\n    spells: [\r\n        \r\n    ], \r\n    attacks: [{\r\n        name: 'Quarterstaff',\r\n        damage: '1d6+{STR}',\r\n        range: ''\r\n    }]\r\n};\r\n\r\nexport const allHeroes = [\r\n    ranger, fighter, paladin, monk, bard, sorcerer\r\n]","export const delay = (wait) => {\r\n  return new Promise(res => {\r\n    setTimeout(() => res(), wait);\r\n  });\r\n};","const SS = window.speechSynthesis;\r\nexport class Voice {\r\n  chosenVoice = null;\r\n  defaultVoiceName = \"Samantha\";\r\n  defaultWinVoiceName = \"Microsoft Hazel Desktop - English (Great Britain)\";\r\n\r\n  findVoice() {\r\n    this.chosenVoice = SS.getVoices().find(x => \r\n      x.name === this.defaultVoiceName || x.name === this.defaultWinVoiceName\r\n    );\r\n  }\r\n\r\n  speak(msg) {\r\n    if (!this.chosenVoice) { this.findVoice(); }\r\n\r\n    const utt = new SpeechSynthesisUtterance(msg);\r\n    utt.voice = this.chosenVoice;\r\n    SS.speak(utt);\r\n  }\r\n}\r\n\r\nexport const voice = new Voice();","export const character = {\r\n  attributes: [\r\n    {\r\n      id: \"str\",\r\n      label: \"Strength\"\r\n    },\r\n    {\r\n      id: \"dex\",\r\n      label: \"Dexterity\"\r\n    },\r\n    {\r\n      id: \"con\",\r\n      label: \"Constitution\"\r\n    },\r\n    {\r\n      id: \"int\",\r\n      label: \"Intelligence\"\r\n    },\r\n    {\r\n      id: \"wis\",\r\n      label: \"Wisdom\"\r\n    },\r\n    {\r\n      id: \"cha\",\r\n      label: \"Charisma\"\r\n    }\r\n  ],\r\n  skills: [\r\n    {\r\n      id: 'acrobatics',\r\n      label: 'Acrobatics',\r\n      basis: 'dex'\r\n    },\r\n    {\r\n      id: 'animal_handling',\r\n      label: 'Animal Handling',\r\n      basis: 'wis'\r\n    },\r\n    {\r\n      id: 'arcana',\r\n      label: 'Arcana',\r\n      basis: 'int'\r\n    },\r\n    {\r\n      id: 'athletics',\r\n      label: 'Athletics',\r\n      basis: 'str'\r\n    },\r\n    {\r\n      id: 'deception',\r\n      label: 'Deception',\r\n      basis: 'cha'\r\n    },\r\n    {\r\n      id: 'history',\r\n      label: 'History',\r\n      basis: 'int'\r\n    },\r\n    {\r\n      id: 'insight',\r\n      label: 'Insight',\r\n      basis: 'wis'\r\n    },\r\n    {\r\n      id: 'intimidation',\r\n      label: 'Intimidation',\r\n      basis: 'cha'\r\n    },\r\n    {\r\n      id: 'investigation',\r\n      label: 'Investigation',\r\n      basis: 'int'\r\n    },\r\n    {\r\n      id: 'medicine',\r\n      label: 'Medicine',\r\n      basis: 'wis'\r\n    },\r\n    {\r\n      id: 'nature',\r\n      label: 'Nature',\r\n      basis: 'int'\r\n    },\r\n    {\r\n      id: 'perception',\r\n      label: 'Perception',\r\n      basis: 'wis'\r\n    },\r\n    {\r\n      id: 'performance',\r\n      label: 'Performance',\r\n      basis: 'cha'\r\n    },\r\n    {\r\n      id: 'persuasion',\r\n      label: 'Persuasion',\r\n      basis: 'cha'\r\n    },\r\n    {\r\n      id: 'religion',\r\n      label: 'Religion',\r\n      basis: 'int'\r\n    },\r\n    {\r\n      id: 'sleight_of_hand',\r\n      label: 'Sleight of Hand',\r\n      basis: 'dex'\r\n    },\r\n    {\r\n      id: 'stealth',\r\n      label: 'Stealth',\r\n      basis: 'dex'\r\n    },\r\n    {\r\n      id: 'survival',\r\n      label: 'Survival',\r\n      basis: 'wis'\r\n    },\r\n  ]\r\n};\r\n","export const spells = [{\r\n  name: 'protection from evil and good',\r\n  cost: 1,\r\n  description: '',\r\n  range: '',\r\n  damage: ''\r\n}, {\r\n  name: 'sanctuary',\r\n  cost: 1,\r\n  description: '',\r\n  range: '',\r\n  damage: ''\r\n}, {\r\n  name: 'lesser restoration',\r\n  cost: 1,\r\n  description: '',\r\n  range: '',\r\n  damage: ''\r\n}, {\r\n  name: 'zone of truth',\r\n  cost: 3,\r\n  description: [\r\n    'You create a magical zone that guards against deception in a 15-foot-radius sphere centered on a point of your choice within range.  ',\r\n    'Until the spell ends, a creature that enters the spell’s area for the first time on a turn or starts its turn there must make a Charisma saving throw.  ',\r\n    'On a failed save, a creature can’t speak a deliberate lie while in the radius. You know whether each creature succeeds or fails on its saving throw.  ',\r\n    'An affected creature is aware of the spell and can thus avoid answering questions to which it would normally respond with a lie. Such creatures can be evasive in its answers as long as it remains within the boundaries of the truth.  ',\r\n  ].join('\\n'),\r\n  castTime: '1 action',\r\n  duration: '10 min',\r\n  range: '60 ft'\r\n}];","import { character } from '../data/definitions/character-sheet';\r\nimport { spells } from '../data/spells';\r\n\r\nexport const attrBonus = score => Math.floor((score - 10) / 2);\r\nexport const profBonus = _ => 3;\r\n\r\nexport const populateSheet = data => {\r\n\r\n    //Populate HP and Mana/Ki\r\n    const currentHP = data.maxHP;\r\n    const currentResource = data.maxResource;\r\n\r\n    const attributes = character.attributes.map(attr => ({\r\n        ...attr,\r\n        score: data.attributes[attr.id],\r\n        bonus: attrBonus(data.attributes[attr.id])\r\n    }));\r\n\r\n    const skills = character.skills.map(skill => {\r\n        const isProficient = data.skillProfs.includes(skill.id);\r\n        const isExpert = data.skillExpertise ? data.skillExpertise.includes(skill.id) : false;\r\n\r\n        const baseBonus = attrBonus(data.attributes[skill.basis]);\r\n        return {\r\n            ...skill,\r\n            isProficient,\r\n            score: baseBonus + (isProficient ? profBonus() : 0) + (isExpert ? profBonus() : 0)\r\n        };\r\n    });\r\n\r\n    const characterSpells = (data.spells || []).map(name => spells.find(sp => sp.name === name));\r\n\r\n    return {\r\n        ...data,\r\n        attributes,\r\n        skills,\r\n        spells: characterSpells,\r\n        currentHP,\r\n        currentResource\r\n    };\r\n};","import { observable, decorate, action, computed } from 'mobx'\r\nimport { allHeroes } from '../data/hero-presets/heroes';\r\nimport { delay } from '../utils/promises';\r\nimport { Voice } from '../utils/voice';\r\nimport { populateSheet } from \"../utils/char-utils\";\r\nimport openSocket from 'socket.io-client';\r\nimport { appMasterList } from '../apps/apps';\r\n\r\nconst DEFAULT_APPS = ['sheet', 'combat'];\r\nconst LOCAL_STORAGE_CHAR_KEY = 'characterData';\r\n\r\nexport class OSStore {\r\n  appHistory = ['home'];\r\n  showAppList = false;\r\n  isLocked = true;\r\n  isDM = false;\r\n  hero = null;\r\n  user = '';\r\n  voice = new Voice();\r\n  socket = null;\r\n  apps = [];\r\n  searchTerm = '';\r\n  dmScreen = {\r\n    players: []\r\n  };\r\n\r\n  constructor() {\r\n    window.dmMode = () => {\r\n      this.apps.push('dm');\r\n      this.isDM = true;\r\n    }\r\n    setInterval(() => {\r\n      if (!this.isLocked) {\r\n        this.save();\r\n        console.log(\"Saving...\");\r\n      }\r\n    }, 15000);\r\n  }\r\n\r\n  async enableDefaultApps() {\r\n    for(let x in DEFAULT_APPS) {\r\n      const appName = DEFAULT_APPS[x];\r\n      if(!this.apps.includes(appName)) {\r\n        await delay(750);\r\n        this.apps.push(appName);\r\n      }\r\n    }\r\n  }\r\n\r\n  unlockApp(appName) {\r\n    if(!this.apps.includes(appName)) {\r\n      this.apps.push(appName);\r\n    }\r\n  }\r\n\r\n  toggleAppList() {\r\n    this.showAppList = !this.showAppList;\r\n  }\r\n\r\n  get currentApp() {\r\n    return this.appHistory[this.appHistory.length -1] || 'home';\r\n  }\r\n\r\n  get appList() {\r\n    return this.appHistory\r\n      .filter((val, index, self) => self.indexOf(val) === index) //Unique\r\n      .filter(val => val !== 'home')\r\n      .reverse()\r\n      .map(appName => appMasterList[appName])\r\n      .filter(Boolean);\r\n  }\r\n\r\n  launchApp(appName) {\r\n    this.showAppList = false;\r\n    if(this.appHistory[this.appHistory.length -1] !== appName) {\r\n      this.appHistory.push(appName);\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    if(this.appHistory.length > 1) {\r\n      this.appHistory.splice(-1, 1);\r\n    }\r\n  }\r\n\r\n  initialise() {\r\n    const val = this.connectSocket();\r\n    this.load();\r\n    return val;\r\n  }\r\n\r\n  connectSocket() {\r\n    this.socket = openSocket('http://localhost:8000');\r\n    this.socket.on('speak', msg => this.voice.speak(msg));\r\n    this.socket.on('unlockApp', appName => this.unlockApp(appName));\r\n    this.socket.on('dmReceivePlayers', p => {\r\n      this.dmScreen.players = p;\r\n    });\r\n    return () => this.socket.close();\r\n  }\r\n\r\n  tryUnlock(password, user) {\r\n    const chosenHero = allHeroes.find(x => x.password === password.toLowerCase());\r\n    if(!chosenHero) {\r\n      return Promise.reject(\"Incorrect Password, Try Again\");\r\n    } else {\r\n      this.hero = populateSheet(chosenHero);\r\n      this.user = user;\r\n      delay(2000).then(() => {\r\n        this.isLocked = false;\r\n        this.enableDefaultApps();\r\n      });\r\n      this.socket.emit('selectedHero', chosenHero.name, user);\r\n      return Promise.resolve(chosenHero);\r\n    }\r\n  }\r\n\r\n  save() {\r\n    const data = {\r\n      hero: this.hero,\r\n      user: this.user,\r\n      unlockedApps: this.apps\r\n    };\r\n\r\n    localStorage.setItem(LOCAL_STORAGE_CHAR_KEY, JSON.stringify(data));\r\n  }\r\n\r\n  load() {\r\n    const dataString = localStorage.getItem(LOCAL_STORAGE_CHAR_KEY);\r\n    if(!dataString) { return; }\r\n\r\n    const data = JSON.parse(dataString);\r\n\r\n    //Load Hero   \r\n    this.hero = data.hero;\r\n    this.user = data.user;\r\n    this.isLocked = false;\r\n    this.socket.emit('selectedHero', this.name, this.user);\r\n    \r\n    //Unlock Apps\r\n    this.apps = data.unlockedApps;\r\n  }\r\n} \r\n\r\ndecorate(OSStore, {\r\n  currentApp: computed,\r\n  appList: computed,\r\n  showAppList: observable,\r\n  appHistory: observable,\r\n  isLocked: observable,\r\n  isDM: observable,\r\n  searchTerm: observable,\r\n  hero: observable,\r\n  user: observable,\r\n  tryUnlock: action,\r\n  apps: observable,\r\n  dmScreen: observable,\r\n  load: action\r\n});","import React from 'react';\r\nimport { OSStore } from '../stores/os-store';\r\n\r\nexport const storesContext = React.createContext({\r\n  os: new OSStore()\r\n});\r\n\r\nexport const useStores = () => React.useContext(storesContext);","import React from \"react\";\r\nimport { observer} from 'mobx-react-lite';\r\n\r\nimport \"./home.scss\";\r\nimport \"./apps.scss\";\r\n\r\nimport { Clock } from \"../components/header-clock\";\r\nimport { appMasterList } from './apps';\r\nimport { useStores } from \"../utils/contexts\";\r\nimport { useState } from \"react\";\r\n\r\nconst moment = require(\"moment\");\r\n\r\nconst getDateString = () => {\r\n  return moment().format(\"dddd MMM Do\");\r\n};\r\n\r\nexport const Home = observer(() => {\r\n  const { os } = useStores();\r\n  const [term, setTerm] = useState('');\r\n  const dateString = getDateString();\r\n  const unlockedApps = os.apps.map(x => appMasterList[x]);\r\n\r\n  const openApp = app => () => {\r\n    os.launchApp(app.id);\r\n  };\r\n\r\n  const search = e => {\r\n    e.preventDefault();\r\n    os.searchTerm = term;\r\n    os.launchApp(\"googax\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"app home\">\r\n      <div className=\"center-content\">\r\n        <form className=\"search-bar\" onSubmit={search}>\r\n          <input\r\n            className=\"googax\"\r\n            placeholder=\"Googax\"\r\n            value={term}\r\n            onChange={e => setTerm(e.target.value)}\r\n          />\r\n          <button type=\"submit\" className=\"search-button\">Search</button>\r\n        </form>\r\n      </div>\r\n      <div className=\"center-content\">\r\n        <div className=\"clock\">\r\n          <span className=\"time-main\">\r\n            <Clock />\r\n          </span>\r\n          <span className=\"day\">{dateString}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"center-content\">\r\n        <div className=\"launcher-apps\">\r\n          {unlockedApps.map(app => {\r\n            return (<div className=\"launcher-app\" key={app.id} onClick={openApp(app)}>\r\n              <div className={`icon icon--${app.icon}`}></div>\r\n              <div className=\"label\">{app.name}</div>\r\n            </div>);\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport ReactMarkdown from 'react-markdown';\r\nimport './char-sheet.scss';\r\n\r\nimport { useStores } from \"../utils/contexts\";\r\nconst sortSkills = (skills, skillSort) => {\r\n  if (skillSort === 'alpha') {\r\n    return skills.sort((a, b) => a.label > b.label ? 1 : -1);\r\n  } else if (skillSort === 'bonus') {\r\n    return skills.sort((a, b) => a.score > b.score ? -1 : 1);\r\n  } else {\r\n    return skills\r\n  }\r\n}\r\n\r\nexport const CharSheet = () => {\r\n  const { os } = useStores();\r\n  const { hero } = os;\r\n  const [skillSort, setSkillSort] = useState(null);\r\n  const [onlyProf, setOnlyProf] = useState(false);\r\n\r\n  const sortedSkills = sortSkills(hero.skills, skillSort);\r\n  const filteredSkills = onlyProf ? sortedSkills.filter(x => x.isProficient) : sortedSkills;\r\n\r\n  return (\r\n    <div className=\"app phb character-sheet\">\r\n      <h1>Character Sheet</h1>\r\n\r\n      <h2>{os.user} the {os.hero.name} </h2>\r\n      <div className=\"row center-content-top flex-sa\">\r\n      <div className=\"attr-item\">\r\n          <div className=\"main column\">\r\n            <span className=\"label tx-heavy tx-s tx-upper\">HP</span>\r\n            <span className=\"bonus tx-xl tx-heavy\">{os.hero.currentHP || 0} / {os.hero.maxHP}</span>\r\n          </div>\r\n        </div>        \r\n        {os.hero.primaryResource && <div className=\"attr-item\">\r\n          <div className=\"main column\">\r\n            <span className=\"label tx-heavy tx-s tx-upper\">{os.hero.primaryResource}</span>\r\n            <span className=\"bonus tx-xl tx-heavy\">{os.hero.currentResource || 0} / {os.hero.maxResource}</span>\r\n          </div>\r\n        </div>}\r\n        <div className=\"attr-item\">\r\n          <div className=\"main column\">\r\n            <span className=\"label tx-heavy tx-s tx-upper\">Armor</span>\r\n            <span className=\"bonus tx-xl tx-heavy\">{os.hero.ac}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <h2>Attributes</h2>\r\n      <div className=\"attribute-list\">\r\n        {hero.attributes.map(attr => (\r\n          <CharSheetAttribute key={attr.id} {...attr} />\r\n        ))}\r\n      </div>\r\n\r\n      <h2>Skills</h2>\r\n      <div className=\"section-header row\">\r\n        <div>\r\n          <button onClick={() => setSkillSort('alpha')}>Az</button> \r\n        </div>\r\n        <div>\r\n          <button onClick={() => setSkillSort('bonus')}>+-</button>\r\n        </div>\r\n        <div>\r\n          <input type=\"checkbox\" onChange={() => setOnlyProf(!onlyProf)}/>\r\n        </div>\r\n      </div>\r\n      <ul className=\"skill-list\">\r\n        {filteredSkills.map(skill => (\r\n          <CharSheetSkill key={skill.id} {...skill} />\r\n        ))}\r\n      </ul>\r\n      <h2>Features</h2>\r\n      <section className=\"\">\r\n        {hero.features.map(f => <Feature feature={f} key={f.name} />)}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CharSheetAttribute = props => {\r\n  const { label, score, bonus } = props;\r\n  const bonusStr = (bonus > 0 ? '+' : '') + bonus.toString(); \r\n\r\n  return (\r\n    <div className=\"attribute-list-item\">\r\n      <div className=\"attr-item\">\r\n        <div className=\"main column\">\r\n          <span className=\"label tx-heavy tx-s tx-upper\">{label}</span>\r\n          <span className=\"bonus tx-l tx-heavy\">{bonusStr}</span>\r\n        </div>\r\n        <span className=\"score tx-heavy\">{score}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CharSheetSkill = props => {\r\n  const { label, isProficient, score} = props;\r\n  const profClass = isProficient ? 'filled' : '';\r\n  const scoreStr = (score > 0 ? '+' : '') + score;\r\n\r\n  return (\r\n    <li className=\"skill-list-item row\">\r\n      <span className={`proficiency ${profClass}`}></span>\r\n      <span className=\"score\">{scoreStr}</span>\r\n      <span className=\"label\">{label}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst Feature = ({feature}) => {\r\n  return (\r\n    <article className=\"feature-item column full-x\">\r\n      <h3 className=\"\">{feature.name}</h3>\r\n      {feature.usageType && <h4>Uses: {feature.uses} per {feature.usageType}</h4>}\r\n      <ReactMarkdown source={feature.description} />\r\n    </article>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { useStores } from '../utils/contexts';\r\n\r\nimport \"./lock-screen.scss\";\r\n\r\nexport const LockScreen = props => {\r\n  const initialUsername = window.location.hash.substr(1);\r\n  const { os } = useStores();\r\n  const [password, setPass] = useState('');\r\n  const [user, setUser] = useState(initialUsername);\r\n  const [message, setMessage] = useState('Enter Password to Unlock');\r\n  const [isError, setIsError] = useState(false);\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    os.tryUnlock(password, user)\r\n      .then(hero => {\r\n        setMessage(\"Password Accepted. Welcome Back, Hero\");\r\n        setIsError(false);\r\n      }).catch(msg => {\r\n        setMessage(msg);\r\n        os.voice.speak(\"Error: \" + msg);\r\n        setIsError(true);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"lockscreen\">\r\n      <div className=\"half-modal column flex-sa\">\r\n        <div className=\"center-content\">\r\n          <div className=\"lock-icon\"></div>\r\n        </div>\r\n        <div className=\"center-content\">\r\n          <span className={`${isError?'error':''} message`}>{message}</span>\r\n        </div>\r\n        <div className=\"password-entry\">\r\n          <form onSubmit={submit} className=\"column center-content\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              id=\"os-user\"\r\n              placeholder=\"Name\"\r\n              value={user}\r\n              onChange={(e => setUser(e.target.value))}\r\n            />\r\n            <input\r\n              className=\"input\"\r\n              type=\"password\"\r\n              id=\"os-password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e => setPass(e.target.value))}\r\n            />\r\n            <button type=\"submit\" className=\"btn\">SUBMIT</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useState } from 'react';\r\nimport { useStores } from '../utils/contexts';\r\nimport { appMasterList} from '../apps/apps';\r\nexport const DM = observer(props => {\r\n  const { os } = useStores();\r\n  const [selectedHero, setSelectedHero] = useState('');\r\n  const [selectedApp, setSelectedApp] = useState('');\r\n  const [quote, setQuote] = useState('hello');\r\n\r\n  const refresh = () => {\r\n    os.socket.emit('dmGetPlayers');\r\n  };\r\n\r\n  const speak = () => {\r\n    os.socket.emit('dmForceSpeak', quote, selectedHero);\r\n  }\r\n\r\n  const unlockApp = () => {\r\n    os.socket.emit('dmUnlockApp', selectedApp, selectedHero);\r\n  }\r\n\r\n  return (\r\n    <div className=\"app bg dm\">\r\n      <div className=\"column center-content\">\r\n        <div className=\"row\">\r\n          <h1>DM Screen</h1>\r\n        </div>\r\n        <div className=\"row\">\r\n          <span>Target:</span>\r\n          <select value={selectedHero} onChange={e => setSelectedHero(e.target.value)}>\r\n            <option value=\"\">NONE</option>\r\n            {os.dmScreen.players.map(x => <option key={x.id} value={x.id}>{x.name}</option>)}\r\n          </select>\r\n          <button onClick={() => refresh()}>REFRESH</button>\r\n        </div>\r\n        <div className=\"row\">\r\n          <textarea cols=\"30\" rows=\"10\" value={quote} onChange={e => setQuote(e.target.value)}></textarea>\r\n          <button onClick={() => speak()}>Speak</button>\r\n        </div>\r\n        <div className=\"row\">\r\n          <select value={selectedApp} onChange={e => setSelectedApp(e.target.value)}>\r\n            <option value=\"\">NONE</option>\r\n            {Object.values(appMasterList).map(app => <option key={app.id} value={app.id}>{app.name}</option>)}\r\n          </select>\r\n          <button onClick={() => unlockApp()}>UnlockApp</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});","import { monsters } from \"./monster\";\r\n\r\nexport const googaxData = [\r\n  ...monsters\r\n];","export const monsters = [\r\n  {\r\n    id: 'slime',\r\n    title: 'Slime',\r\n    category: 'Monster',\r\n    tags: ['monster', 'slime'],\r\n    content: 'The slime is a **SLIMY BOI**',\r\n    blurb: 'Just a *regular* **slime**'\r\n  }, {\r\n    id: 'king_slime',\r\n    title: 'King Slime',\r\n    category: 'Monster',\r\n    tags: ['monster', 'slime'],\r\n    content: 'The king of all Slimes. *WHAT A BIG GROSS BLOB*',\r\n    blurb: 'The king of all slimes'\r\n  }\r\n];","import React, { useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { useStores } from \"../utils/contexts\";\r\nimport { googaxData } from \"../googax/index\";\r\n\r\nimport \"./googax.scss\";\r\nimport { delay } from \"../utils/promises\";\r\n\r\nconst searchFor = term => {\r\n  const lTerm = (term || \"\").toLowerCase();\r\n  const results = googaxData.filter(x =>\r\n    x.content.toLowerCase().includes(lTerm) ||\r\n    x.tags.some(tag => tag.toLowerCase().includes(lTerm)) ||\r\n    x.title.toLowerCase().includes(lTerm)\r\n  );\r\n\r\n  return results;\r\n};\r\n\r\nexport const Googax = observer(props => {\r\n  const { os } = useStores();\r\n\r\n  const [article, setArticle] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  \r\n  const term = os.searchTerm;\r\n  const results = searchFor(term);\r\n\r\n  const updateResults = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    setIsLoading(true);\r\n    await delay(500);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app bg googax\">\r\n      <div className=\"column center-content-top full-y\">\r\n        <div className=\"row\">\r\n          <h1>Googax</h1>\r\n        </div>\r\n        <div className=\"row search-bar\">\r\n          <form className=\"row\" onSubmit={updateResults}>\r\n            <input\r\n              type=\"text\"\r\n              className=\"search\"\r\n              value={term}\r\n              onChange={e => os.searchTerm = e.target.value}\r\n            />\r\n            <button type=\"submit\">Search</button>\r\n          </form>\r\n        </div>\r\n        <Article article={article} closeArticle={() => setArticle(null)} />\r\n        <Results article={article} results={results} setArticle={setArticle} isLoading={isLoading} />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Article = ({article, closeArticle}) => {\r\n  if (!article) { return null; }\r\n  return (\r\n    <div className=\"column full-x article\">\r\n      <div className=\"row header\">\r\n        <h2>{article.title}</h2>\r\n        <button className=\"btn btn-close\" onClick={closeArticle}>x</button>\r\n      </div>\r\n      <ReactMarkdown source={article.content} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Results = ({ results, article, setArticle, isLoading }) => {\r\n  if (article) { return null; }\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"column full-x results center-content-top\">\r\n        <span className=\"tx-xl tx-heavy tx-center\">...</span>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"column full-x results\">\r\n      <div className=\"results-list column\">\r\n        {results.length === 0 && <p className=\"tx-center\">No Results Found</p>}\r\n        {results.map(result => (\r\n          <article\r\n            className=\"result column\"\r\n            key={result.id}\r\n            onClick={() => setArticle(result)}\r\n          >\r\n            <div className=\"title tx-medium tx-l\">{result.title}</div>\r\n            <div className=\"title tx-medium tx-m\">{result.category}</div>\r\n            <div className=\"blurb\">\r\n              <ReactMarkdown source={result.blurb} />\r\n            </div>\r\n          </article>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nimport { useStores } from '../utils/contexts';\r\nimport \"./combat.scss\";\r\n\r\nexport const Combat = observer(() => {\r\n\r\n  const { os } = useStores();\r\n  const { hero } = os;\r\n  const { spells, attacks, currentResource } = os.hero;\r\n  const castSpellCB = (spell) => () => {\r\n    if(os.hero.currentResource >= spell.cost) {\r\n      os.hero.currentResource -= spell.cost;\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"app phb app--spells single-col\">\r\n      <h1>Combat</h1>\r\n\r\n      <div className=\"row flex-sb flex-ac\">\r\n        <h2>Weapons</h2>      \r\n        <h4>{hero.currentHP} / {hero.maxHP} HP</h4>\r\n      </div>\r\n      <div className=\"row weapons-header\">\r\n        <span className=\"f3 tx-s\">Weapon</span>\r\n        <span className=\"f1 tx-s\">Range</span>\r\n        <span className=\"f1 tx-s\">Damage</span>\r\n      </div>\r\n      {(attacks || []).map(attack => <Attack attack={attack} hero={hero} key={attack.name} />)}\r\n\r\n      <div className=\"row flex-sb flex-ac\">\r\n        <h2>Spells</h2>\r\n        <h4>{hero.currentResource} / {hero.maxResource} {hero.primaryResource}</h4>\r\n      </div>\r\n      <div className=\"row spells-header\">\r\n        <span className=\"f3 tx-s\">Spell</span>\r\n        <span className=\"f1 tx-s\">Cast Time</span>\r\n        <span className=\"f1 tx-s\">Range</span>\r\n        <span className=\"f1 tx-s\">Duration</span>\r\n        <span className=\"f1 tx-s\"></span>\r\n      </div>\r\n      {(spells || []).map(spell => <Spell\r\n        spell={spell}\r\n        availMana={currentResource}\r\n        key={spell.name}\r\n        castSpellCB = {castSpellCB}\r\n      />)}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Spell = ({spell, availMana, castSpellCB}) => {\r\n  const canAfford = spell.cost <= availMana;\r\n\r\n  return (\r\n    <div className=\"spell column\">\r\n      <div className=\"row flex-ac\">\r\n        <span className=\"tx-m tx-heavy tx-cap f3\">{spell.name}</span>\r\n        <span className=\"tx-m f1\">{spell.castTime}</span>\r\n        <span className=\"tx-m f1\">{spell.range}</span>\r\n        <span className=\"tx-m f1\">{spell.duration}</span>\r\n        <div className=\"f1\">\r\n          <button className=\"btn\" disabled={!canAfford} onClick={castSpellCB(spell)}>Cast</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"\">\r\n        <ReactMarkdown source={spell.description} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Attack = ({attack, hero}) => {\r\n  const damageString = buildDamageString(attack.damage, hero);\r\n  \r\n  return (\r\n    <div className=\"weapon row flex-ac\">\r\n      <span className=\"tx-m tx-heavy tx-cap f3\">{attack.name}</span>\r\n      <span className=\"tx-m f1\">{attack.range}</span>\r\n      <span className=\"tx-m f1\">{damageString}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst buildDamageString = (damage, hero) => {\r\n  const str = hero.attributes.find(a => a.id === 'str').bonus;\r\n  const dex = hero.attributes.find(a => a.id === 'dex').score;\r\n\r\n  return damage.replace('{DEX}', dex).replace('{STR}', str);\r\n};","import React from 'react';\r\nimport \"./os-nav-bar.scss\";\r\nimport { useStores } from '../utils/contexts';\r\n\r\nexport const OSNavBar = props => {\r\n\r\n    const {os} = useStores();\r\n    const goHome = () => { os.launchApp('home'); };\r\n    const goBack = () => { os.goBack(); };\r\n    const toggleAppList = () => { os.toggleAppList(); };\r\n    return (\r\n        <div className=\"nav-bar\">\r\n            <div className=\"back\" onClick={goBack}>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            </div>\r\n            <span className=\"home\" onClick={goHome}></span>\r\n            <span className=\"recent\" onClick={toggleAppList}></span>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport { Clock } from '../components/header-clock';\r\nimport \"./os-notification-bar.scss\";\r\n\r\nexport const OSNotificationBar = props => {\r\n  return (\r\n    <div className=\"notif-bar\">\r\n      <span className=\"dandroid\">Dndroid</span>\r\n      {/* <i className=\"material-icons download\">get_app</i>\r\n          <i className=\"material-icons help\">help</i>\r\n          <i className=\"material-icons alarm\">alarm</i>\r\n          <i className=\"material-icons wifi\">network_wifi</i>\r\n          <i className=\"material-icons network\">network_cell</i>\r\n          <i className=\"material-icons battery\">battery_full</i> */}\r\n      <Clock />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useStores } from '../utils/contexts';\r\n\r\nexport const OSAppList = observer(() => {\r\n  const { os } = useStores();\r\n  const launch = name => os.launchApp(name);\r\n\r\n  return (\r\n    <div className=\"app-list widget\">\r\n      <div className=\"column flex-sb flex-ac\">\r\n        {os.appList.map(app => <AppListItem app={app} key={app.id} launch={launch} />)}\r\n      </div>\r\n    </div>\r\n  )\r\n});\r\n\r\nconst AppListItem = ({app, launch}) => {\r\n  const { name, icon, id } = app;\r\n  const fn = () => launch(id);\r\n\r\n  return (\r\n    <div className=\"app-shortcut row\" onClick={fn}>\r\n      <span className={`icon icon--${icon}`}></span>\r\n      <span className=\"label\">{name}</span>\r\n    </div>\r\n  );\r\n};","import React from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport \"./os.scss\";\r\n\r\nimport { Home } from \"./home\";\r\nimport { CharSheet } from \"./char-sheet\";\r\nimport { LockScreen } from \"./lock-screen\";\r\nimport { DM } from \"./dungeon-master\";\r\nimport { Googax } from \"./googax\";\r\nimport { Combat } from \"./combat\";\r\n\r\nimport { OSNavBar } from \"../components/os-nav-bar\";\r\nimport { OSNotificationBar } from \"../components/os-notification-bar\";\r\nimport { OSAppList} from '../components/app-list';\r\nimport { useStores } from \"../utils/contexts\";\r\n\r\nconst getApp = appName => {\r\n  console.log(\"GetAPP\", appName);\r\n  switch((appName || '').toLowerCase()) {\r\n    case \"sheet\": return <CharSheet />;\r\n    case \"dm\": return <DM />;\r\n    case \"googax\": return <Googax />;\r\n    case \"combat\": return <Combat />;\r\n    default: return <Home />;\r\n  }\r\n}\r\n\r\nexport const OS = observer(() => {\r\n  const { os } = useStores();\r\n  const { showAppList } = os;\r\n  console.log(\"ShowAppList ? \", showAppList);\r\n\r\n  const app = getApp(os.currentApp);\r\n  const heroName = (os.hero ? os.hero.name : '').toLowerCase();\r\n  return (\r\n    <div className={`container ${heroName} ${os.isLocked ? 'blur' : ''}`}>\r\n      <OSNotificationBar />\r\n      {os.isLocked && <LockScreen />}\r\n      {!os.isLocked && <>\r\n        <div className=\"body\">\r\n          {app}\r\n          <OSNavBar />\r\n          {showAppList && <OSAppList />}\r\n        </div>\r\n      </>}\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport {OS} from './apps/os';\r\n\r\nimport './global.scss';\r\nimport './fonts.scss';\r\nimport './phb.scss';\r\nimport { useStores } from './utils/contexts';\r\n\r\n\r\nfunction App() {\r\n  const {os} = useStores();\r\n  \r\n  useEffect(() => {\r\n    return os.initialise();\r\n  });\r\n\r\n  return (\r\n    <div className=\"dandroid-os\">\r\n      <link\r\n        href=\"https://fonts.googleapis.com/css?family=Roboto: 100,300,400\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <link\r\n        href=\"https://fonts.googleapis.com/css?family=Lato\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <link\r\n        href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <OS />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}